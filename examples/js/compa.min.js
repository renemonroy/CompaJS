!function(win,doc){"use strict";win.Compa=win.Compa||{},win.UI=win.UI||{},win.Compa=function(compaName){var configCompa,Class=function(){this.init.apply(this,arguments)};return Class.className=compaName,Class.prototype={constructor:Class,children:[],init:function(config){for(var prop in config)this[prop]=config[prop];if(null==this.el){var tmp=doc.createElement("div");tmp.innerHTML=this.constructor.html||"<div></div>",this.el=tmp.firstChild,tmp=null}this.hasOwnProperty("className")===!0&&this.addClass(this.className),this.onStart&&this.onStart()},appendChild:function(child){return child.parent&&child.parent.removeChild(child),this.hasOwnProperty("children")||(this.children=[]),this.children.push(child),this[child.name]=child,child.setParent(this),child},removeChild:function(child){var pos=this.children.indexOf(child);return-1!==pos&&(this.children.splice(pos,1),delete this[child.name],child.parent=null),child},getPreviousSibling:function(){return"undefined"!=typeof this.parent&&this.parent.children[0]!==this?this.parent.children[this.parent.children.indexOf(this)-1]:void 0},getNextSibling:function(){return"undefined"!=typeof this.parent&&this.parent.children[this.parent.children.length-1]!==this?this.parent.children[this.parent.children.indexOf(this)+1]:void 0},setParent:function(parent){return this.parent=parent,this},hasClass:function(cl){return this.el.className.match(new RegExp("(^|\\s+)"+cl+"(\\s+|$)"))},addClass:function(cl){return this.hasClass(this.el,cl)||(this.el.className+=" "+cl),this},removeClass:function(cl){if(this.hasClass(cl)){var reg=new RegExp("(^|\\s+)"+cl+"(\\s+|$)");this.el.className=this.el.className.replace(reg," ")}return this},replaceClass:function(oldCl,newCl){return this.hasClass(oldCl)&&this.removeClass(oldCl).addClass(newCl),this},getElByClass:function(className){for(var e,descendants=this.el.getElementsByTagName("*"),i=-1,result=[];e=descendants[++i];)(" "+(e["class"]||e.className)+" ").indexOf(" "+className+" ")>-1&&result.push(e);return result},disable:function(){return this.onBeforeDisable&&this.onBeforeDisable(),this.disabled=!0,this.addClass("disable"),this.onDisable&&this.onDisable(),this},enable:function(){return this.onBeforeEnable&&this.onBeforeEnable(),this.disabled=!1,this.removeClass("disable"),this.onEnable&&this.onEnable(),this},destroy:function(){var childrenLength;if(this.onBeforeDestroy&&this.onBeforeDestroy(),this.el&&this.el.remove(),null!==this.children)for(childrenLength=this.children.length;childrenLength>0;)this.children[0].destroy(),this.children.length===childrenLength&&this.children.shift(),childrenLength--;return this.parent&&this.parent.removeChild(this),this.children=null,this.el=null,null},render:function(el,pos){switch(pos){case"beforebegin":el.parentNode.insertBefore(this.el,el);break;default:el.appendChild(this.el)}return this.onRender&&this.onRender(),this}},configCompa=function(definition){var defPrototype=definition.prototype;if(defPrototype){for(var i in defPrototype)defPrototype.hasOwnProperty(i)&&(Class.prototype[i]=defPrototype[i]);delete definition.prototype}for(var j in definition)definition.hasOwnProperty(j)&&(Class[j]=definition[j]);return UI[compaName]=Class,Class}}}(window,document);